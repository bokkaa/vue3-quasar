import{as as g,ar as v,bi as y,V as _,aI as l,o as b,i as x,q as r,j as o,ac as Q,ae as S,a as P,a1 as U,ad as i,aG as w,aM as T}from"./index.e805e3f8.js";import{Q as k}from"./QPage.495c224a.js";import{_ as B}from"./BaseCard.80b1dc78.js";import{_ as V}from"./PostForm.c27d6abc.js";import{m as $,u as q}from"./post.d1a0ed7a.js";import{b as u}from"./route-block.1e6a8648.js";import"./QForm.743399c2.js";import"./QChip.c3cd4015.js";import"./QItemLabel.1da63567.js";import"./QCardActions.6ce67d25.js";import"./index.12067634.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./validate-rules.ce7e6efc.js";const C=()=>({title:"",category:"",content:"",tags:[]}),I={__name:"edit",setup(N){const m=g(),n=v(),c=y(),t=_(C());l(()=>$(n.params.id),{},{onSuccess:s=>{t.value.title=s.title,t.value.category=s.category,t.value.content=s.content,t.value.tags=s.tags}});const{isLoading:p,execute:f}=l(q,null,{immediate:!1,throwError:!0,onSuccess:()=>{c.notify("\uC218\uC815\uC644\uB8CC")}}),d=async()=>{confirm("\uC218\uC815\uC744 \uC644\uB8CC\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")!==!1&&(await f(1e3,n.params.id,t.value),m.push(`/posts/${n.params.id}`))};return(s,a)=>(b(),x(k,{padding:""},{default:r(()=>[o(B,null,{default:r(()=>[o(Q,null,{default:r(()=>[o(S,null,{default:r(()=>[P("\uAE00\uC4F0\uAE30")]),_:1})]),_:1}),o(V,{onSubmit:d,title:t.value.title,"onUpdate:title":a[0]||(a[0]=e=>t.value.title=e),category:t.value.category,"onUpdate:category":a[1]||(a[1]=e=>t.value.category=e),content:t.value.content,"onUpdate:content":a[2]||(a[2]=e=>t.value.content=e),tags:t.value.tags,"onUpdate:tags":a[3]||(a[3]=e=>t.value.tags=e)},{actions:r(()=>[U(o(i,{flat:"",label:"\uCDE8\uC18C"},null,512),[[T]]),o(i,{type:"submit",flat:"",label:"\uC218\uC815",color:"primary",loading:w(p)},null,8,["loading"])]),_:1},8,["title","category","content","tags"])]),_:1})]),_:1}))}};typeof u=="function"&&u(I);export{I as default};
