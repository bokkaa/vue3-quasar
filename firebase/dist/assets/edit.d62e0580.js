import{aq as d,be as g,V as v,aH as l,o as y,i as b,q as n,j as o,ab as _,ad as x,a as Q,a1 as S,ac as i,aF as P,aL as U}from"./index.c216104a.js";import{Q as w}from"./QPage.67891981.js";import{_ as T}from"./BaseCard.bdc0c5f1.js";import{_ as k}from"./PostForm.30e043e1.js";import{m as q,u as B}from"./post.ad5c1677.js";import{b as u}from"./route-block.1e6a8648.js";import"./QForm.6c27b7ca.js";import"./QChip.b717a8c6.js";import"./QItemLabel.c02fa86e.js";import"./format.c860d4da.js";import"./QCardActions.472a03ec.js";import"./index.385e8952.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./validate-rules.ce7e6efc.js";const V=()=>({title:"",category:"",content:"",tags:[]}),C={__name:"edit",setup(F){const r=d(),m=g(),t=v(V());l(()=>q(r.params.id),{},{onSuccess:s=>{t.value.title=s.title,t.value.category=s.category,t.value.content=s.content,t.value.tags=s.tags}});const{isLoading:c,execute:p}=l(B,null,{immediate:!1,throwError:!0,onSuccess:()=>{m.notify("\uC218\uC815\uC644\uB8CC")}}),f=async()=>{confirm("\uC218\uC815\uC744 \uC644\uB8CC\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")!==!1&&await p(1e3,r.params.id,t.value)};return(s,a)=>(y(),b(w,{padding:""},{default:n(()=>[o(T,null,{default:n(()=>[o(_,null,{default:n(()=>[o(x,null,{default:n(()=>[Q("\uAE00\uC4F0\uAE30")]),_:1})]),_:1}),o(k,{onSubmit:f,title:t.value.title,"onUpdate:title":a[0]||(a[0]=e=>t.value.title=e),category:t.value.category,"onUpdate:category":a[1]||(a[1]=e=>t.value.category=e),content:t.value.content,"onUpdate:content":a[2]||(a[2]=e=>t.value.content=e),tags:t.value.tags,"onUpdate:tags":a[3]||(a[3]=e=>t.value.tags=e)},{actions:n(()=>[S(o(i,{flat:"",label:"\uCDE8\uC18C"},null,512),[[U]]),o(i,{type:"submit",flat:"",label:"\uC218\uC815",color:"primary",loading:P(c)},null,8,["loading"])]),_:1},8,["title","category","content","tags"])]),_:1})]),_:1}))}};typeof u=="function"&&u(C);export{C as default};
